{"ast":null,"code":"var _jsxFileName = \"/Users/hich/Desktop/Programmation/Ironhack/week4/hackernews-clone/hackernews-clone/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Cards from './Component/Cards';\nimport NavBar from \"./Component/NavBar\";\nimport NavBarTwo from \"./Component/NavBarTwo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [results, setResults] = useState([]);\n  const [query, setQuery] = useState('');\n  const [hitsPerPage, setHitsPerPage] = useState(10);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [filter, setFilter] = useState(\"&numericFilters=\");\n  const [search, setSearch] = useState(\"search\");\n  const fetchData = async () => {\n    try {\n      const callData = await axios.get('http://hn.algolia.com/api/v1/search?tags=front_page');\n      setResults(callData.data.hits);\n      setLoading(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const fetchData2 = async () => {\n    try {\n      const callData = await axios.get(`http://hn.algolia.com/api/v1/${search}?query=${query}&hitsPerPage=${hitsPerPage}&page=${page}${filter}`);\n      setResults(callData.data.hits);\n      setLoading(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  console.log(filter);\n  console.log(search);\n  useEffect(() => {\n    query ? fetchData2() : fetchData();\n  }, [query, search, hitsPerPage, page, filter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      query: query,\n      setQuery: setQuery\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }, this), query.length > 1 && /*#__PURE__*/_jsxDEV(NavBarTwo, {\n      hitsPerPage: hitsPerPage,\n      setHitsPerPage: setHitsPerPage,\n      filter: filter,\n      setFilter: setFilter,\n      search: search,\n      setSearch: setSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 24\n    }, this), query && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btns\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pageBtn\",\n        onClick: () => page > 1 && setPage(page - 1),\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pageBtn\",\n        onClick: () => setPage(page + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }, this), loading ? results.map(e => e.title && e.author ? /*#__PURE__*/_jsxDEV(Cards, {\n      url: e.url,\n      title: e.title,\n      author: e.author,\n      point: e.points,\n      date: e.created_at_i,\n      nbrcomments: e.num_comments,\n      idcomment: e.objectID\n    }, e.objectID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 45\n    }, this) : \"\") : /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"load2\",\n      src: \"./loading2.png\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 11\n  }, this);\n};\n_s(App, \"SmWwHWDSSwv9o0JhSGYbsDczkJM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","React","useState","useEffect","Cards","NavBar","NavBarTwo","App","results","setResults","query","setQuery","hitsPerPage","setHitsPerPage","page","setPage","loading","setLoading","filter","setFilter","search","setSearch","fetchData","callData","get","data","hits","err","console","log","fetchData2","length","map","e","title","author","url","points","created_at_i","num_comments","objectID"],"sources":["/Users/hich/Desktop/Programmation/Ironhack/week4/hackernews-clone/hackernews-clone/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Cards from './Component/Cards'\nimport NavBar from \"./Component/NavBar\";\nimport NavBarTwo from \"./Component/NavBarTwo\"\n\n\nconst App = () => {\n  const [results, setResults] = useState([]);\n  const [query,setQuery]= useState('')\n  const [hitsPerPage,setHitsPerPage] = useState(10)\n  const [page,setPage] = useState(1)\n  const [loading,setLoading] = useState(false)\n  const [filter,setFilter] = useState(\"&numericFilters=\")\n  const [search,setSearch] = useState(\"search\")\n    \nconst fetchData = async () => {\n    try {\n        const callData = await axios.get('http://hn.algolia.com/api/v1/search?tags=front_page');\n        setResults(callData.data.hits);\n        setLoading(true)\n    }\n  catch(err) {console.log(err)}\n  }\n \n\nconst fetchData2 = async () => {\n  try {\n      const callData = await axios.get(`http://hn.algolia.com/api/v1/${search}?query=${query}&hitsPerPage=${hitsPerPage}&page=${page}${filter}`);\n      setResults(callData.data.hits)\n      setLoading(true) \n  }\ncatch(err) {console.log(err)}\n}\n\nconsole.log(filter)\nconsole.log(search)\n\n  useEffect(() => {\n    query ?\n    fetchData2() :\n    fetchData()\n\n  }, [query,search,hitsPerPage,page,filter]);\n\n\n  return (<div className=\"App\">\n\n  <NavBar query={query} setQuery={setQuery} />\n  {query.length > 1 && <NavBarTwo hitsPerPage={hitsPerPage} setHitsPerPage={setHitsPerPage} filter={filter} setFilter={setFilter} search={search} setSearch={setSearch}/> }\n  {query &&\n  <div className=\"btns\">\n  <button className=\"pageBtn\" onClick={()=> page>1 && setPage(page - 1)}>Previous</button>\n  <button className=\"pageBtn\" onClick={()=> setPage(page + 1)}>Next</button>\n  </div>\n  }\n  { loading?\n    results.map((e)=> e.title && e.author ? <Cards key={e.objectID}  url={e.url} title ={e.title} author={e.author} point={e.points} date={e.created_at_i} nbrcomments={e.num_comments} idcomment={e.objectID} /> : \"\") \n    : <img className=\"load2\" src=\"./loading2.png\" alt=\"\"></img>}\n  \n  </div>)\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}